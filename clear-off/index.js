window.__require=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({FigureUtils:[function(e,t,n){"use strict";cc._RF.push(t,"57953yQ2M1Lk5lu1qirXAQ0","FigureUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.FigureUtils=void 0;var r=function(){function e(){}return e.getRandomNFromM=function(t,n){for(var r=[],o=0,i=0;i<n&&!(i>=t+1);){o=e.getRandomInt(0,t);for(var a=0,c=0;c<i;c++)if(r[c]===o){a=1;break}0===a&&(r[i]=o,i++)}return r},e.getRandomInt=function(e,t){var n=Math.random()*(t-e+1)+e;return Math.floor(n)},e.randomRange=function(e,t){return Math.random()*(t-e)+e},e.randomRangeInt=function(t,n){return Math.floor(e.randomRange(t,n))},e.deepcopyArr=function(e){for(var t=[],n=e.length,r=0;r<n;r++){t[r]=new Array;for(var o=0;o<e[r].length;o++)t[r][o]=e[r][o]}return t},e.deepClone=function(t){if("object"!=typeof t)return t;if(!t)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(t instanceof Function)return t;var n;if(t instanceof Array){n=[];for(var r=0,o=t.length;r<o;r++)n.push(e.deepClone(t[r]));return n}for(var i in n={},t)t.hasOwnProperty(i)&&("object"!=typeof t[i]?n[i]=t[i]:n[i]=e.deepClone(t[i]));return n},e.copyWid=function(t){var n=Array.isArray(t)?[]:{};for(var r in t)"object"==typeof t[r]?n[r]=e.copyWid(t[r]):n[r]=t[r];return n},e.deepCopy=function(t){var n=Object.prototype.toString.call(t),r=null;if("[object array]"===n){r=[];for(var o=0;o<t.length;o++)r.push(e.deepCopy(t[o]))}else if("[object object]"===n)for(var i in r={},t)r[i]=e.deepCopy(t[i]);else r=t;return r},e.clone=function(t){if(null===t||"object"!=typeof t)return t;var n={};for(var r in t.constructor===Array&&(n=[]),t)t.hasOwnProperty(r)&&(n[r]=e.clone(t[r]));return n},e.objectToArray=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},e.arrayToObject=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&e[r][t]&&(n[e[r][t]]=e[r]);return n},e.getWeightRandIndex=function(e,t){for(var n=Math.floor(Math.random()*t),r=0,o=0;o<e.length&&!(n<(r+=e[o]));o++);return o},e.getStringLength=function(e){for(var t=e,n=0,r=0,o=t.length;r<o;r++)n+=t.charCodeAt(r)<=255?1:2;return Math.ceil(n/2)},e.isEmptyObject=function(e){var t=!0;if(e&&e.constructor===Object){for(var n in e)if(e.hasOwnProperty(n)){t=!1;break}}else t=!1;return t},e.isNewDay=function(e){var t=new Date(e),n=new Date,r=t.getYear(),o=t.getMonth(),i=t.getDate(),a=n.getYear(),c=n.getMonth(),s=n.getDate();return a>r||c>o||s>i},e.getPropertyCount=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},e.difference=function(e,t){var n=[];if(e.constructor!==Array||t.constructor!==Array)return n;for(var r=e.length,o=0;o<r;o++)-1===t.indexOf(e[o])&&n.push(e[o]);return n},e._stringToArray=function(e){var t,n="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r=RegExp("[\\u200d\\ud800-\\udfff"+n+"\\ufe0e\\ufe0f]"),o="\\ud83c[\\udffb-\\udfff]",i="["+n+"]",a="(?:"+i+"|"+o+")?",c="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[\\ufe0e\\ufe0f]?"+a+"(?:\\u200d(?:"+[c,s,l].join("|")+")[\\ufe0e\\ufe0f]?"+a+")*",f="(?:"+[c+i+"?",i,s,l,"[\\ud800-\\udfff]"].join("|")+")",p=RegExp(o+"(?="+o+")|"+f+u,"g");return t=e,r.test(t)?e.match(p)||[]:e.split("")},e.simulationUUID=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e.isNowValid=function(e,t){var n=new Date(e),r=new Date(t),o=!1;if(n.getDate()+""!="NaN"&&r.getDate()+""!="NaN"){var i=new Date;o=i<r&&i>n}return o},e.getDeltaDays=function(e,t){e=new Date(e),t=new Date(t);var n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=t.getFullYear(),a=t.getMonth()+1,c=t.getDate();e=new Date(n+"/"+r+"/"+o+" GMT+0800").getTime();var s=(t=new Date(i+"/"+a+"/"+c+" GMT+0800").getTime())-e;return Math.floor(s/864e5)},e.getMin=function(e){var t=null;if(e.constructor===Array)for(var n=e.length,r=0;r<n;r++)t=0===r?Number(e[0]):t>Number(e[r])?Number(e[r]):t;return t},e.formatTwoDigits=function(e){return(Array(2).join(0)+e).slice(-2)},e.formatDate=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},e.getDay=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.formatName=function(t,n){n=n||6;var r=e._stringToArray(t),o="";if(r.length>n){for(var i=0;i<n;i++)o+=r[i];o+="..."}else o=t;return o},e.formatMoney=function(e){for(var t=["","K","M","G","T","P","E","Z","Y","B","N","D"],n="",r=0;r<t.length;r++){if(!(e>=1e4)){n=Math.floor(e)+t[r];break}e/=1e3}return""===n&&(n=Math.floor(e)+"U"),n},e.formatValue=function(e){for(var t=[],n="",r=0;r<26;r++)t.push(String.fromCharCode(97+r));for(var o=0;o<t.length;o++){if(!(e>=1e4)){n=Math.floor(e)+t[o];break}e/=1e3}return n},e.formatTimeForSecond=function(e,t){void 0===t&&(t=!1);var n="",r=e%60,o=Math.floor(e/60);o=o<0?0:o;var i=Math.floor(o/60),a=o%60;return i>0?(n+=i>9?i.toString():"0"+i,n+=":"):n+="00:",n+=a>9?a.toString():"0"+a,t||(n+=":",n+=r>9?r.toString():"0"+r),n},e.formatTimeForMillisecond=function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60);return{hour:Math.floor(e/1e3/60/60),minute:n,second:t}},e.rand=function(t){for(var n=e.clone(t),r=n.length-1;r>=0;r--){var o=Math.floor(Math.random()*(r+1)),i=n[o];n[o]=n[r],n[r]=i}return n},e.getOffsetMimutes=function(e,t){var n=t-e;return Math.floor(n%36e5/6e4)},e.formatNumToFixed=function(e,t){return void 0===t&&(t=0),Number(e.toFixed(t))},e.lerp=function(e,t,n){void 0===n&&(n=.25);var r=t;return e>t?r=t+(e-t)*n:e<t&&(r=t-(t-e)*n),r},e.decrypt=function(t){var n=6;t.length%2==0&&(n=7);for(var r="",o=0;o<t.length-n;o+=2)r+=t[o+1],r+=t[o];return r+=t.slice(t.length-n+1),e._base64Decode(r)},e.encrypt=function(t){var n=e._base64encode(t),r=6;n.length%2==0&&(r=7);for(var o="",i=0;i<(n.length-r+1)/2;i++)o+=n[2*i+1],o+=n[2*i];return o+n.slice(n.length-r+1)},e._utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},e._utf8Decode=function(e){for(var t="",n=0,r=0,o=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t},e._base64encode=function(t){var n,r,o,i,a,c,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",f=0;for(t=e._utf8Encode(t);f<t.length;)i=(n=t.charCodeAt(f++))>>2,a=(3&n)<<4|(r=t.charCodeAt(f++))>>4,c=(15&r)<<2|(o=t.charCodeAt(f++))>>6,s=63&o,isNaN(r)?c=s=64:isNaN(o)&&(s=64),u=u+l.charAt(i)+l.charAt(a)+l.charAt(c)+l.charAt(s);return u},e._base64Decode=function(t){var n,r,o,i,a,c,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)n=s.indexOf(t.charAt(u++))<<2|(i=s.indexOf(t.charAt(u++)))>>4,r=(15&i)<<4|(a=s.indexOf(t.charAt(u++)))>>2,o=(3&a)<<6|(c=s.indexOf(t.charAt(u++))),l+=String.fromCharCode(n),64!=a&&(l+=String.fromCharCode(r)),64!=c&&(l+=String.fromCharCode(o));return e._utf8Decode(l)},e.checkIsLowPhone=function(){if(window.wx){var e=-1,t=window.wx.getSystemInfoSync();if(t.system.indexOf("iOS")>=0){for(var n=t.model,r=["iPhone1,1","iPhone1,2","iPhone2,1","iPhone3,1","iPhone3,3","iPhone4,1","iPhone5,1","iPhone5,2","iPhone5,3","iPhone5,4","iPhone6,1","iPhone6,2"],o=["iPhone6,2","iPhone7,1","iPhone7,2","iPhone8,1","iPhone8,2","iPhone8,4"],i=["iPhone9,1","iPhone9,2","iPhone9,3","iPhone9,4","iPhone10,1","iPhone10,2","iPhone10,3","iPhone10,4","iPhone10,5","iPhone10,6"],a=["iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5","iPhone12,8"],c=0;c<r.length;c++)n.indexOf(r[c])>=0&&(e=5);for(c=0;c<o.length;c++)n.indexOf(o[c])>=0&&(e=10);for(c=0;c<i.length;c++)n.indexOf(i[c])>=0&&(e=20);for(c=0;c<a.length;c++)n.indexOf(a[c])>=0&&(e=30)}else e=t.benchmarkLevel;return e<22}return!1},e}();n.FigureUtils=r,cc._RF.pop()},{}],"all-config":[function(e,t,n){"use strict";cc._RF.push(t,"9a7596JlFpF5LkRxDS6lW8d","all-config"),Object.defineProperty(n,"__esModule",{value:!0}),n.GridType=void 0,function(e){e[e.bird=101]="bird",e[e.bear=102]="bear",e[e.fox=103]="fox",e[e.owl=104]="owl"}(n.GridType||(n.GridType={})),cc._RF.pop()},{}],bezier:[function(e,t,n){"use strict";cc._RF.push(t,"db917Ucx+dBm47RR+JAlNX/","bezier"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.createSmoothLineControlPoint=function(e,t,n,r){void 0===r&&(r=0);var o=this.vector2dMinus(e,t),i=this.vector2dMinus(n,t),a=Math.hypot(o.x,o.y)/Math.hypot(i.x,i.y),c=new cc.Vec2;return c=(c=a>1?this.vector2dMinus(e,this.vector2dPlus(t,this.vector2dMinus(n,t).scale(cc.v2(1/a,1/a)))):this.vector2dMinus(this.vector2dPlus(t,this.vector2dMinus(e,t).scale(cc.v2(a,a))),n)).scale(cc.v2(r,r)),{control1:this.vector2dPlus(t,c),control2:this.vector2dMinus(t,c)}},e.prototype.vector2dMinus=function(e,t){return cc.v2(e.x+t.x,e.y+t.y)},e.prototype.vector2dPlus=function(e,t){return cc.v2(e.x-t.x,e.y-t.y)},e}();n.default=r,cc._RF.pop()},{}],"change-scene-effect":[function(e,t,n){"use strict";cc._RF.push(t,"48856WZi1lHBpeKU5/h199V","change-scene-effect");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/event-manager"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animation=null,t._sceneName="",t}return o(t,e),t.prototype.onLoad=function(){a.default.getInstance().add(a.Event_Name.CHANGE_SCENE_EFFER,this.showeChangeSceneEffet,this),cc.game.addPersistRootNode(this.node),this.node.opacity=0},t.prototype.showeChangeSceneEffet=function(e){this.node.opacity=255,this.animation.play(),this._sceneName=e,cc.director.preloadScene(this._sceneName)},t.prototype.ani_loadscene=function(){cc.director.loadScene(this._sceneName)},t.prototype.mubaOver=function(){this.node.runAction(cc.fadeOut(.5))},i([l(cc.Animation)],t.prototype,"animation",void 0),i([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../manager/event-manager":"event-manager"}],"cutdown-btn":[function(e,t,n){"use strict";cc._RF.push(t,"daad4ZU5aBA67SnJsSYg/Dr","cutdown-btn");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../framework/manager/event-manager"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._packingTime=0,t._packingTimeMax=3,t.imgNode=null,t.barValueNode=null,t._maskNode=null,t}return o(t,e),t.prototype.start=function(){this._maskNode=this.imgNode.getChildByName("mask-node"),this._maskNode.active=!1,a.default.getInstance().add(a.Event_Name.CUTDOWN_BTN_EFFER,this.startPacking,this)},t.prototype.onDestroy=function(){},t.prototype.updatePacking=function(e){if(this._packingTime<this._packingTimeMax){this._packingTime=e+this._packingTime;var t=this.barValueNode.width;this.imgNode.width=t*(this._packingTime/this._packingTimeMax)}else this.endPacking()},t.prototype.endPacking=function(){this.unschedule(this.updatePacking),this._maskNode.active=!1,this.imgNode.width=0,this._packingTime=0},t.prototype.startPacking=function(){this._maskNode.active=!0,this.schedule(this.updatePacking)},i([l(cc.Node)],t.prototype,"imgNode",void 0),i([l(cc.Node)],t.prototype,"barValueNode",void 0),i([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../framework/manager/event-manager":"event-manager"}],"event-manager":[function(e,t,n){"use strict";cc._RF.push(t,"1f5200dpy5D4IHP/SKz6eEY","event-manager");var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.Event_Name=void 0;var o=function(){function e(){this.handlers=[],this.targets=[],this.isInvoking=!1,this.containCancled=!1}return e.prototype.add=function(e,t){this.handlers.push(e),this.targets.push(t)},e.prototype.remove=function(e){this.handlers.splice(e,1),this.targets.splice(e,1)},e.prototype.removeByTarget=function(e){for(var t=this.targets,n=this.handlers,r=t.length-1;r>=0;r--)t[r]===e&&(t.splice(r,1),n.splice(r,1))},e.prototype.removeByHandler=function(e){for(var t=this.targets,n=this.handlers,r=n.length-1;r>=0;r--)n[r]===e&&(n.splice(r,1),t.splice(r,1))},e.prototype.removeByHandlerTarget=function(e,t){for(var n=this.targets,r=this.handlers,o=r.length-1;o>=0;o--)r[o]===e&&n[o]===t&&(r.splice(o,1),n.splice(o,1))},e.prototype.removeAll=function(){this.handlers.length=0,this.targets.length=0},e.prototype.cancel=function(e){this.handlers[e]=null,this.targets[e]=null,this.containCancled=!0},e.prototype.cancelByTarget=function(e){for(var t=this.targets,n=this.handlers,r=t.length-1;r>=0;r--)t[r]===e&&(t[r]=null,n[r]=null);this.containCancled=!0},e.prototype.cancelByHandler=function(e){for(var t=this.targets,n=this.handlers,r=n.length-1;r>=0;r--)n[r]===e&&(t[r]=null,n[r]=null);this.containCancled=!0},e.prototype.cancelByHandlerTarget=function(e,t){for(var n=this.targets,r=this.handlers,o=r.length-1;o>=0;o--)r[o]===e&&n[o]===t&&(n[o]=null,r[o]=null);this.containCancled=!0},e.prototype.cancelAll=function(){for(var e=this.targets,t=this.handlers,n=t.length-1;n>=0;n--)t[n]=null,e[n]=null;this.containCancled=!0},e.prototype.has=function(e,t){for(var n=this.targets,r=this.handlers,o=r.length;o>=0;o--)if(r[o]==e&&n[o]===t)return!0;return!1},e.prototype.purgeCanceled=function(){this.containCancled&&(this.removeByHandler(null),this.containCancled=!1)},e.prototype.isEmpty=function(){return 0===this.handlers.length},e}();(function(e){e.GAME_START="GAME_START",e.GAME_PAUSE="GAME_PAUSE",e.POP_SHOW="POP_SHOW",e.POP_HIDE="POP_HIDE",e.LANGUAGE_CHANGE="LANGUAGE_CHANGE",e.REMOTE_ASSETS_UPDATED="REMOTE_ASSETS_UPDATED",e.CONFIG_UPDATE="CONFIG_UPDATE",e.CHANGE_SCENE_EFFER="CHANGE_SCENE_EFFER",e.CUTDOWN_BTN_EFFER="CUTDOWN_BTN_EFFER",e.CHANGE_SCORE_BYGAME="CHANGE_SCORE_BYGAME"})(n.Event_Name||(n.Event_Name={}));var i=function(){function e(){this.eventMap=new Map}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.fireEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.eventMap.get(e);if(o&&!o.isEmpty()){o.isInvoking=!0;for(var i=o.handlers,a=o.targets,c=0,s=i.length;c<s;c++){var l=i[c],u=a[c];if(l)if(u&&u.node){var f=u.node;cc.isValid(f)?l.call.apply(l,r([u],t)):o.cancelByTarget(u)}else l.call.apply(l,r([u],t))}o.isInvoking=!1,o.purgeCanceled()}},e.prototype.has=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=this.eventMap.get(e);if(!r)return!1;if(t)return r.has(t,n);if(r.isInvoking){for(var o=r.handlers,i=0,a=o.length;i<a;i++)if(o[i])return!0;return!1}return!r.isEmpty()},e.prototype.add=function(e,t,n){void 0===n&&(n=null);var r=this.eventMap.get(e);r||(r=new o,this.eventMap.set(e,r)),r.add(t,n)},e.prototype.remove=function(e,t,n){void 0===n&&(n=null);var r=this.eventMap.get(e);r&&!r.isEmpty()&&(n?r.isInvoking?r.cancelByHandlerTarget(t,n):r.removeByHandlerTarget(t,n):r.isInvoking?r.cancelByHandler(t):r.removeByHandler(t))},e.prototype.removeByTarget=function(e){this.eventMap.forEach(function(t){t.isEmpty()||t.isInvoking&&t.cancelByTarget(e)})},e.prototype.removeByEvent=function(e){var t=this.eventMap.get(e);t&&!t.isEmpty()&&(t.isInvoking?t.cancelAll():t.removeAll())},e.prototype.once=function(e,t,n){var o,i=this;void 0===n&&(n=null),o=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];i.remove(e,o,n),t.call.apply(t,r([n],a))},this.add(e,o,n)},e}();n.default=i,cc._RF.pop()},{}],"event-tools":[function(e,t,n){"use strict";cc._RF.push(t,"ec791S2n/hDaY55wIzOy/0V","event-tools");var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.EventTool=void 0;var o=e("./event-manager"),i=function(){function e(){}return e.prototype.addEventListener=function(e,t){o.default.getInstance().add(e,t,this),this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({event:e,handler:t})},e.prototype.removeEventListener=function(e,t){o.default.getInstance().remove(e,t,this)},e.prototype.fireEvent=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=o.default.getInstance()).fireEvent.apply(t,r([e],n))},e.prototype.clearEventListeners=function(){var e=this,t=this._eventListeners;if(t&&t.length){var n=o.default.getInstance();t.forEach(function(t){n.remove(t.event,t.handler,e)})}this._eventListeners=null,cc.game.targetOff(this)},e}();n.EventTool=i,cc._RF.pop()},{"./event-manager":"event-manager"}],"game-node":[function(e,t,n){"use strict";cc._RF.push(t,"ab764TW1pNKfKmNCHTC/Z/E","game-node");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function c(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../framework/manager/event-manager"),l=e("../framework/manager/pool-mananger"),u=e("../framework/manager/pop-manager"),f=e("../framework/utils/FigureUtils"),p=e("./all-config/all-config"),d=cc._decorator,h=d.ccclass,g=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.birdPerfab=null,t.birdPerfab02=null,t.birdPerfab03=null,t.birdPerfab04=null,t.parentNode_8x8=null,t.maskNode=null,t.scoreLabel=null,t._coordArrary=new Array,t.clickArray=new Array,t._isInitOk=!1,t._score=0,t._singleScore=0,t._pixel_X=0,t._pixel_Y=0,t._grid_Gap=80,t._grid_OverTurn=7,t._grid_Count=7,t._change_insMode=!0,t._isCanOperate=!1,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.testLevelConfi={levelNumber:1,levelDifficulty:10,levelTime:60,levelScoreOfClearance:100,levelPassSteps:100},this.onInitGridPool().then(function(){e.onInitLevel(e.testLevelConfi)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(1!=e.maskNode.active){var n=t.getLocation(),r=e.convertTouchPosToCell(n);r?e.onTestSavaClickData(r):cc.error("\u70b9\u51fb\u7684\u5730\u65b9\u672a\u68c0\u6d4b\u5230grid")}},this),s.default.getInstance().add(s.Event_Name.CHANGE_SCORE_BYGAME,this.updateScore,this)},t.prototype.onTestAdjoinCheck=function(e,t){var n=!1,r=Math.abs(e.cordx-t.cordx),o=Math.abs(e.cordy-t.cordy);return 0==r&&1==o?n=!0:0==o&&1==r&&(n=!0),n},t.prototype.onTestCanClearOff=function(e){for(var t,n,r,o=f.FigureUtils.deepcopyArr(e),i=new Set,a=new Set,c=0;c<o.length;c++)for(var s=o[c],l=0;l<s.length;l++){var u=s[l];null!=u&&null!=s[l+1]&&null!=s[l+2]&&u.gridType==s[l+1].gridType&&s[l+1].gridType==s[l+2].gridType&&(u&&i.add(u),s[l+1]&&i.add(s[l+1]),s[l+2]&&i.add(s[l+2]))}if(i.size>0)return!0;for(c=0;c<o.length;c++)for(s=o[c],l=0;l<s.length;l++)if(null!=o[c][l]){if(null==o[c+1]||null==o[c+2])continue;null!=o[c+1][l]&&null!=o[c+2][l]&&o[c][l].gridType===(null===(t=o[c+1][l])||void 0===t?void 0:t.gridType)&&(null===(n=o[c+1][l])||void 0===n?void 0:n.gridType)==(null===(r=o[c+2][l])||void 0===r?void 0:r.gridType)&&(o[c][l]&&a.add(o[c][l]),o[c+1][l]&&a.add(o[c+1][l]),o[c+2][l]&&a.add(o[c+2][l]))}return a.size>0},t.prototype.onTestExchangeGrid=function(e,t){var n=f.FigureUtils.deepcopyArr(this._coordArrary),r=!1;if(void 0===e||void 0===t)return!1;if(n[e.cordx][e.cordy].gridType==n[t.cordx][t.cordy].gridType)r=!1;else{var o=n[e.cordx][e.cordy];n[e.cordx][e.cordy]=n[t.cordx][t.cordy],n[t.cordx][t.cordy]=o,r=!!this.onTestCanClearOff(n)}return r},t.prototype.onTestRunExchangeBeHavior=function(e,t){var n=this,r=f.FigureUtils.deepcopyArr(this._coordArrary),o=cc.tween(r[e.cordx][e.cordy].bindNode).to(.1,{position:r[t.cordx][t.cordy].bindNode.position}),i=cc.tween(r[t.cordx][t.cordy].bindNode).to(.1,{position:r[e.cordx][e.cordy].bindNode.position}),a=cc.tween(this.node).call(function(){var o=r[e.cordx][e.cordy];r[e.cordx][e.cordy]=r[t.cordx][t.cordy],r[t.cordx][t.cordy]=o;var i=function(e,t){var o="";switch(r[e][t].gridType){case 101:o=l.Pool_Name.BIRD_POOL;break;case 102:o=l.Pool_Name.BEAR_POOL;break;case 103:o=l.Pool_Name.FOX_POOL;break;case 104:o=l.Pool_Name.OWL_POOL}r[e][t].bindNode.name=o+"-"+e+"x"+t,null==r[e][t].bindNode.parent&&r[e][t].bindNode.setParent(n.parentNode_8x8);var i={x:n._coordArrary[e][t].x,y:n._coordArrary[e][t].y,gridType:r[e][t].gridType,coord:{x:n._coordArrary[e][t].coord.x,y:n._coordArrary[e][t].coord.y},bindNode:r[e][t].bindNode};r[e][t]=i;var a=i.bindNode.getComponent("grid-node");a&&a.onSetInfo(i,!1)};i(e.cordx,e.cordy),i(t.cordx,t.cordy),n.scheduleOnce(function(){n.testClearGrid(r,.3)},.2)});cc.tween(null).parallel(o.start(),i.start()).then(a.start()).start()},t.prototype.onTestSavaClickData=function(e,t){if(void 0===t&&(t=!0),this._coordArrary[e.cordx][e.cordy]){var n=this._coordArrary[e.cordx][e.cordy].bindNode.getComponent("grid-node");if(null==this.clickArray||0==this.clickArray.length)this.clickArray.push(e),n&&t&&n.onClickStatusChange();else{if(n&&t&&n.onClickStatusChange(),this.onTestAdjoinCheck(this.clickArray[0],e))if(this.onTestExchangeGrid(this.clickArray[0],e)){if(!t){var r=f.FigureUtils.copyWid(this.clickArray);return r.push(e),this.clickArray.length=0,r}this.maskNode.active=!0,this.onTestRunExchangeBeHavior(this.clickArray[0],e)}else{if(n&&t&&n.onClickStatusChange(),null==this.clickArray[0])return void cc.error("\u70b9\u592a\u5feb\u4e86\uff0c\u9519\u8bef\uff0c\u65e0\u6cd5\u7ee7\u7eed\u70b9\u51fb");(o=this._coordArrary[this.clickArray[0].cordx][this.clickArray[0].cordy].bindNode.getComponent("grid-node"))&&t&&o.onClickStatusChange(),this.maskNode.active=!1}else{if(n&&t&&n.onClickStatusChange(),this.clickArray.length>0){if(null==this.clickArray[0])return null;var o;(o=this._coordArrary[this.clickArray[0].cordx][this.clickArray[0].cordy].bindNode.getComponent("grid-node"))&&t&&o.onClickStatusChange()}this.maskNode.active=!1}this.clickArray.length=0}}else cc.error("cord\u5750\u6807\u9519\u8bef\u3002",e);return null},t.prototype.convertTouchPosToCell=function(e){if((e=this.node.convertToNodeSpaceAR(e)).x<.5*-this._pixel_X||e.x>=.5*this._pixel_X||e.y<.5*-this._pixel_Y||e.y>=.5*this._pixel_Y)return null;var t=Math.abs(Math.floor((e.x+.5*this._pixel_X)/this._grid_Gap)),n=Math.abs(Math.floor((e.y+.5*this._pixel_Y)/this._grid_Gap)-this._grid_OverTurn);return{cordx:Math.abs(n),cordy:Math.abs(t)}},t.prototype.onInitGridPool=function(){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,l.default.getInstance().addPoolToMap(l.Pool_Name.BIRD_POOL,this.birdPerfab,30,"grid-node")];case 1:return e.sent(),[4,l.default.getInstance().addPoolToMap(l.Pool_Name.BEAR_POOL,this.birdPerfab02,30,"grid-node")];case 2:return e.sent(),[4,l.default.getInstance().addPoolToMap(l.Pool_Name.FOX_POOL,this.birdPerfab03,30,"grid-node")];case 3:return e.sent(),[4,l.default.getInstance().addPoolToMap(l.Pool_Name.OWL_POOL,this.birdPerfab04,30,"grid-node")];case 4:return e.sent(),[2]}})})},t.prototype.onInitLevel=function(){this._isInitOk=!1,this._score=0,this._singleScore=0,this.scoreLabel.string="0",this._pixel_X=this.parentNode_8x8.width,this._pixel_Y=this.parentNode_8x8.height,this.maskNode.active=!1;for(var e=0;e<=this._grid_Count;e++){this._coordArrary[e]=[];for(var t=0;t<=this._grid_Count;t++){var n=f.FigureUtils.randomRangeInt(p.GridType.bird,p.GridType.owl+1),r="";switch(n){case 101:r=l.Pool_Name.BIRD_POOL;break;case 102:r=l.Pool_Name.BEAR_POOL;break;case 103:r=l.Pool_Name.FOX_POOL;break;case 104:r=l.Pool_Name.OWL_POOL}var o=l.default.getInstance().getNodeByMap(r);o.name=r+"-"+e+"x"+t,o.setParent(this.parentNode_8x8);var i={x:-.5*this.parentNode_8x8.width+o.width*t+.5*o.width+5+10*t,y:.5*this.parentNode_8x8.height-(o.height*e+.5*o.height+5)-10*e,gridType:n,coord:{x:e,y:t},bindNode:o};this._coordArrary[e][t]=i;var a=o.getComponent("grid-node");a&&a.onSetInfo(i)}}this.testClearGrid(this._coordArrary)},t.prototype.onInitFill=function(e,t){var n=this;void 0===t&&(t=0);for(var r=f.FigureUtils.deepcopyArr(e),o=0,i=0;i<r.length;i++)for(var a=r[i],c=0;c<a.length;c++)if(null==a[c]){o++;var s=f.FigureUtils.randomRangeInt(p.GridType.bird,p.GridType.owl+1),u="";switch(s){case 101:u=l.Pool_Name.BIRD_POOL;break;case 102:u=l.Pool_Name.BEAR_POOL;break;case 103:u=l.Pool_Name.FOX_POOL;break;case 104:u=l.Pool_Name.OWL_POOL}var d=l.default.getInstance().getNodeByMap(u);d.name=u+"-"+i+"x"+c,d.setParent(this.parentNode_8x8);var h={x:-.5*this.parentNode_8x8.width+d.width*c+.5*d.width+5+10*c,y:.5*this.parentNode_8x8.height-(d.height*i+.5*d.height+5)-10*i,gridType:s,coord:{x:i,y:c},bindNode:d};r[i][c]=h;var g=d.getComponent("grid-node");g&&g.onSetInfo(h,!0,this._change_insMode)}this._isInitOk?o>0?this.scheduleOnce(function(){n.testClearGrid(r,t)},t):(this._score+=this._singleScore,this._coordArrary=r,this._isInitOk?(this._singleScore=0,this.LabelAddEffect(this.scoreLabel,Number(this.scoreLabel.string),this._score,.5)):(this._isInitOk=!0,this._score=0,this._singleScore=0)):o>0?this.scheduleOnce(function(){n.testClearGrid(r,t)},t):(this._score+=this._singleScore,this._coordArrary=r,this._isInitOk?(this._singleScore=0,this.LabelAddEffect(this.scoreLabel,Number(this.scoreLabel.string),this._score,.5)):(this._isInitOk=!0,this._isCanOperate=!0,this._score=0,this._singleScore=0))},t.prototype.testClearGrid=function(e,t){var n,r,o,i=this;void 0===t&&(t=0),this._isCanOperate=!1;for(var a=f.FigureUtils.deepcopyArr(e),c=new Set,s=new Set,u=0;u<a.length;u++)for(var p=a[u],d=0;d<p.length;d++){var h=p[d];null!=h&&null!=p[d+1]&&null!=p[d+2]&&h.gridType==p[d+1].gridType&&p[d+1].gridType==p[d+2].gridType&&(h&&c.add(h),p[d+1]&&c.add(p[d+1]),p[d+2]&&c.add(p[d+2]))}for(this._singleScore+=10*c.size,c.size>0&&c.forEach(function(e){l.default.getInstance().putNodeToMap(e.bindNode.name.split("-")[0],e.bindNode),a[e.coord.x][e.coord.y]=null}),u=0;u<a.length;u++)for(p=a[u],d=0;d<p.length;d++)if(null!=a[u][d]){if(null==a[u+1]||null==a[u+2])continue;null!=a[u+1][d]&&null!=a[u+2][d]&&a[u][d].gridType===(null===(n=a[u+1][d])||void 0===n?void 0:n.gridType)&&(null===(r=a[u+1][d])||void 0===r?void 0:r.gridType)==(null===(o=a[u+2][d])||void 0===o?void 0:o.gridType)&&(a[u][d]&&s.add(a[u][d]),a[u+1][d]&&s.add(a[u+1][d]),a[u+2][d]&&s.add(a[u+2][d]))}this._singleScore+=10*s.size,s.size>0&&s.forEach(function(e){l.default.getInstance().putNodeToMap(e.bindNode.name.split("-")[0],e.bindNode),a[e.coord.x][e.coord.y]=null}),c.size>0||s.size>0?this.scheduleOnce(function(){i.testMoveDown(a)},t):(this._isInitOk,this.onInitFill(a)),c.clear(),s.clear()},t.prototype.testMoveDown=function(e,t){var n=this;void 0===t&&(t=0);for(var r=f.FigureUtils.deepcopyArr(e),o=r.length-1;o>=0;o--)for(var i=r[o],a=0;a<i.length;a++)for(var c=0;null!=r[o-c]&&null==r[o][a];){if(null==r[o][a]){var s=r[o][a];if(r[o][a]=r[o-c][a],r[o-c][a]=s,r[o][a]){var u="";switch(r[o][a].gridType){case 101:u=l.Pool_Name.BIRD_POOL;break;case 102:u=l.Pool_Name.BEAR_POOL;break;case 103:u=l.Pool_Name.FOX_POOL;break;case 104:u=l.Pool_Name.OWL_POOL}r[o][a].bindNode.name=u+"-"+o+"x"+a,null==r[o][a].bindNode.parent&&r[o][a].bindNode.setParent(this.parentNode_8x8);var p={x:this._coordArrary[o][a].x,y:this._coordArrary[o][a].y,gridType:r[o][a].gridType,coord:{x:this._coordArrary[o][a].coord.x,y:this._coordArrary[o][a].coord.y},bindNode:r[o][a].bindNode};r[o][a]=p;var d=p.bindNode.getComponent("grid-node");d&&(this._isInitOk,d.onSetInfo(p))}}c++}this.scheduleOnce(function(){n._isInitOk?n.testClearGrid(r,.4):n.testClearGrid(r,t)},t)},t.prototype.onTestCheckCanClearOff=function(){for(var e=0;e<=this._grid_Count;e++)for(var t=0;t<=this._grid_Count;t++){var n={cordx:e,cordy:t};if(e+1<=this._grid_Count&&t+1<=this._grid_Count){this.onTestSavaClickData(n,!1);var r={cordx:e,cordy:t+1},o=this.onTestSavaClickData(r,!1);if(null!=o)return o}}return null},t.prototype.testHelp=function(){if(this._isInitOk&&0!=this._isCanOperate){s.default.getInstance().fireEvent(s.Event_Name.CUTDOWN_BTN_EFFER),this.clickArray.length>0&&((t=this._coordArrary[this.clickArray[0].cordx][this.clickArray[0].cordy].bindNode.getComponent("grid-node")).onClickStatusChange(),this.clickArray.length=0);var e=this.onTestCheckCanClearOff();if(null!=e){var t=this._coordArrary[e[0].cordx][e[0].cordy].bindNode.getComponent("grid-node"),n=this._coordArrary[e[1].cordx][e[1].cordy].bindNode.getComponent("grid-node");t&&n&&(t.onSetShake(),n.onSetShake())}}},t.prototype.onChangeInsMode=function(e){this._change_insMode=!this._change_insMode,this._change_insMode?e.target.getComponentInChildren(cc.Label).string="\u539f\u70b9\u6a21\u5f0f":e.target.getComponentInChildren(cc.Label).string="\u9876\u70b9\u6a21\u5f0f"},t.prototype.LabelAddEffect=function(e,t,n,r){var o=this;void 0===r&&(r=.5);var i={a:t};cc.tween(i).to(r,{a:n},{progress:function(t,n,r,i){var a=Math.round((n-t)*i);e.string=(a+t).toString(),1==i&&(o.maskNode.active=!1,o._isCanOperate=!0)}}).start()},t.prototype.BackOut=function(){cc.director.loadScene("ChooseGame")},t.prototype.OpenPopGuessFirst=function(){var e=this;u.default.getInstance().ShowPop(this,u.PopResPath.GuessFirst,10,{isBundle:!0,BundleName:"clear-off"}).then(function(t){t?t.setParent(e.node.parent):cc.error("\u6253\u5f00\u9519\u8bef")})},t.prototype.updateScore=function(e){this._score+=e,this._score<=0?this._score=0:this.LabelAddEffect(this.scoreLabel,Number(this.scoreLabel.string),this._score,.5)},i([g(cc.Prefab)],t.prototype,"birdPerfab",void 0),i([g(cc.Prefab)],t.prototype,"birdPerfab02",void 0),i([g(cc.Prefab)],t.prototype,"birdPerfab03",void 0),i([g(cc.Prefab)],t.prototype,"birdPerfab04",void 0),i([g(cc.Node)],t.prototype,"parentNode_8x8",void 0),i([g(cc.Node)],t.prototype,"maskNode",void 0),i([g(cc.Label)],t.prototype,"scoreLabel",void 0),i([h],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../framework/manager/event-manager":"event-manager","../framework/manager/pool-mananger":"pool-mananger","../framework/manager/pop-manager":"pop-manager","../framework/utils/FigureUtils":"FigureUtils","./all-config/all-config":"all-config"}],"grid-node":[function(e,t,n){"use strict";cc._RF.push(t,"e63a4wJ4+tB3JC5z9oQ4q3J","grid-node");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../framework/life-cycle/life-cycle"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mInfo=null,t.mIsChoose=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onSetInfo=function(e,t,n){void 0===t&&(t=!0),this.mInfo=e,0==t?(this.node.x=e.x,this.node.y=e.y):(n?(this.node.x=0,this.node.y=0):(this.node.x=e.x,this.node.y=.5*this.node.parent.height),cc.tween(this.node).to(.1,{position:cc.v3(e.x,e.y)}).start()),this.node.active=!0,this.mIsChoose.active=!1,this.onSetGridType(e.gridType)},t.prototype.onSetGridType=function(){},t.prototype.onClickStatusChange=function(){var e=this.mIsChoose.active;this.mIsChoose.active=!e},t.prototype.onSetPos=function(e,t,n){this.node.position!==e&&(this.node.position=e),cc.tween(this.node).to(n,{position:cc.v3(t.x,t.y)}).start()},t.prototype.onSetShake=function(){var e=cc.tween(this.node).to(.1,{angle:20},{easing:"linear"}).to(.1,{angle:-20},{easing:"linear"});cc.tween(this.node).repeat(3,e).to(.1,{angle:0}).start()},t.prototype.moveTest=function(e){var t=e.getDelta();this.node.x+=t.x,this.node.y+=t.y},t.prototype.unuse=function(){var e=this;this.mInfo=null,this.node.off(cc.Node.EventType.TOUCH_END,function(){cc.log(e.node)},this)},t.prototype.reuse=function(){},i([l(cc.Node)],t.prototype,"mIsChoose",void 0),i([s],t)}(a.default);n.default=u,cc._RF.pop()},{"../../framework/life-cycle/life-cycle":"life-cycle"}],"life-cycle":[function(e,t,n){"use strict";cc._RF.push(t,"45924HAs9VP9qXxHZYRw557","life-cycle");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/resources-reference-manager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){},t.prototype.start=function(){},t.prototype.lateUpdate=function(){},t.prototype.onDisable=function(){},t.prototype.onDestroy=function(){a.ResourcesReferenceManager.decRefAllByComponent(this)},i([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../manager/resources-reference-manager":"resources-reference-manager"}],"m-syns-eg":[function(e,t,n){"use strict";cc._RF.push(t,"91d9aaYeyRMJLf3RDY83nrD","m-syns-eg"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=(r.ccclass,r.property,function(){function e(){}return e.prototype.EgOne=function(){var e=new MPromise(function(e,t,n){n.cancellend||e("yes")});e.then(function(){}).catch(function(){}),e.cancel();var t=MPromise.resolve("Error"),n=MPromise.resolve("Good"),r=MPromise.all([e,t,n]),o=MPromise.race([e,t,n]);console.log(r.catch(function(e){console.log(e)})),console.log(o.catch(function(e){console.log(e)}));var i=new Promise(function(e){e("OK")});i.then(function(e){console.log(e)}),setTimeout(function(){i.then(function(){})},1e3)},e}());n.default=o,cc._RF.pop()},{}],"pool-mananger":[function(e,t,n){"use strict";cc._RF.push(t,"a58d9lIm9hOJrZ4NC0hDvM0","pool-mananger"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool_Name=void 0;var r=e("./resource-manager");(function(e){e.DEFAULT_POOL="DEFAULT_POOL",e.BULLET_POOL="BULLET_POOL",e.BIRD_POOL="BIRD_POOL",e.BEAR_POOL="BEAR_POOL",e.FOX_POOL="FOX_POOL",e.OWL_POOL="OWL_POOL"})(n.Pool_Name||(n.Pool_Name={}));var o=function(){function e(){this.poolNodeFlag="_poolFlag",this.poolMap=new Map,this.poolMapPerfab=new Map}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.addPoolToMap=function(t,n,o,i){return void 0===o&&(o=10),new MPromise(function(a,c){var s=new cc.NodePool(i);if("string"==typeof n)r.default.getInstance().LoadResPerfab(n).then(function(n){for(var r=0;r<o;r++)cc.instantiate(n)[e.instance.poolNodeFlag]=t+e.instance.poolNodeFlag,s.put(cc.instantiate(n));e.instance.poolMap.set(t,s),e.instance.poolMapPerfab.set(t,n),a(!0)}).catch(function(e){console.error(e),c(!1)});else{for(var l=0;l<o;l++){var u=cc.instantiate(n);u[e.instance.poolNodeFlag]=t+e.instance.poolNodeFlag,s.put(cc.instantiate(u))}e.instance.poolMap.set(t,s),e.instance.poolMapPerfab.set(t,n),a(!0)}})},e.prototype.getNodeByMap=function(t){if(e.instance.poolMap.has(t)){if(e.instance.poolMap.get(t).size()<=0){var n=e.instance.poolMapPerfab.get(t);if(!n)return cc.error("map\u4e2d\u672a\u627e\u5230\u8be5\u9884\u5236\u4f53"),null;var r=cc.instantiate(n);r.active=!0,r[e.instance.poolNodeFlag]=t+e.instance.poolNodeFlag,e.instance.poolMap.get(t).put(r),r=null}return e.instance.poolMap.get(t).get()}return cc.error("\u8bf7\u5148\u8c03\u7528\u201caddPoolToMap\u201d\u8fdb\u884c\u521d\u59cb\u5316"),null},e.prototype.putNodeToMap=function(t,n){var r=n.hasOwnProperty(e.instance.poolNodeFlag)&&n[e.instance.poolNodeFlag]==t+e.instance.poolNodeFlag;e.instance.poolMap.has(t)||r?(e.instance.poolMap.get(t).put(n),n.active=!1):cc.error("\u6c60\u5b50\u4e0d\u5b58\u5728\u6216\u653e\u5165\u7684\u8282\u70b9\u9519\u8bef")},e.prototype.getPoolToMap=function(t){return e.instance.poolMap.has(t)?e.instance.poolMap.get(t):null},e.prototype.getPoolSizeToMap=function(t){return e.instance.poolMap.has(t)?e.instance.poolMap.get(t).size():null},e.prototype.clearPoolToMap=function(t){e.instance.poolMap.has(t)&&(e.instance.poolMap.get(t).clear(),e.instance.poolMap.delete(t))},e.prototype.clearPoolMap=function(){e.instance.poolMap.clear()},e}();n.default=o,cc._RF.pop()},{"./resource-manager":"resource-manager"}],"pop-guess-first":[function(e,t,n){"use strict";cc._RF.push(t,"cf411L1ehlMd58oNifRqZbS","pop-guess-first");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../framework/manager/event-manager"),c=e("../../framework/manager/pop-manager"),s=cc._decorator,l=s.ccclass,u=s.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chooseLabel=null,t.resultLabel=null,t.scoreLabel=null,t.playChoose=-1,t._changeScore=0,t}return o(t,e),t.prototype.onBtnChooseGusture=function(e,t){this.playChoose=Number(t),this.chooseLabel.string=this.convert(this.playChoose)},t.prototype.onBtnStartGame=function(){this.game()},t.prototype.onBtnClosePop=function(){c.default.getInstance().ClosePop(!1),a.default.getInstance().fireEvent(a.Event_Name.CHANGE_SCORE_BYGAME,this._changeScore)},t.prototype.computerPlay=function(){return Math.floor(3*Math.random())},t.prototype.convert=function(e){switch(e){case 0:return"\u77f3\u5934";case 1:return"\u526a\u5b50";case 2:return"\u5e03"}},t.prototype.playRound=function(e,t){return e===t?"\u5e73\u5c40":"\u77f3\u5934"===e&&"\u526a\u5b50"===t||"\u5e03"===e&&"\u77f3\u5934"===t||"\u526a\u5b50"===e&&"\u5e03"===t?"\u60a8\u8d62\u4e86!":"\u60a8\u8f93\u4e86!"},t.prototype.game=function(){var e=0,t=0;if(-1!=this.playChoose){var n=this.playChoose,r=this.computerPlay(),o=this.playRound(this.convert(n),this.convert(r));"\u60a8\u8d62\u4e86!"===o?e++:"\u60a8\u8f93\u4e86!"===o&&t++,e>t?(this.resultLabel.string="\u7535\u8111\u51fa\u7684\u662f:"+this.convert(r)+",\n \u60a8\u8d62\u4e86,\u83b7\u5f97\u4e8610\u5206",this._changeScore+=10):e<t?(this.resultLabel.string="\u7535\u8111\u51fa\u7684\u662f:"+this.convert(r)+",\n \u60a8\u8f93\u4e86,\u6263\u9664\u4e8610\u5206",this._changeScore-=10):(this.resultLabel.string="\u7535\u8111\u51fa\u7684\u662f:"+this.convert(r)+",\n \u4f60\u4eec\u6253\u5e73\u4e86",this.convert(r)),this.scoreLabel.string="\u672c\u6b21\u603b\u5206\u6570:"+this._changeScore}else this.resultLabel.string="\u8bf7\u9009\u62e9\u60a8\u8981\u51fa\u7684\u624b\u52bf"},i([u(cc.Label)],t.prototype,"chooseLabel",void 0),i([u(cc.Label)],t.prototype,"resultLabel",void 0),i([u(cc.Label)],t.prototype,"scoreLabel",void 0),i([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../framework/manager/event-manager":"event-manager","../../framework/manager/pop-manager":"pop-manager"}],"pop-manager":[function(e,t,n){"use strict";cc._RF.push(t,"c2f05oj4itBWLQRZSm+gZDD","pop-manager");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function c(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PopResPath=n.UiEffects=n.UiStatus=n.UiType=void 0;var a,c=e("../utils/stack"),s=e("./resource-manager"),l=e("./resources-reference-manager");(function(e){e[e.DEFAULT_WINDOWS=0]="DEFAULT_WINDOWS",e[e.FULL_WINDOWS=0]="FULL_WINDOWS",e[e.TIPS_WINDOWS=0]="TIPS_WINDOWS",e[e.DIALOG_WINDOWS=0]="DIALOG_WINDOWS",e[e.OTHER=0]="OTHER"})(n.UiType||(n.UiType={})),function(e){e[e.DEFAULT_STATUS=0]="DEFAULT_STATUS",e[e.OPENING_STATUS=0]="OPENING_STATUS",e[e.OPEN_STATUS=0]="OPEN_STATUS",e[e.CLOSEING_STATUS=0]="CLOSEING_STATUS",e[e.CLOSE_STATUS=0]="CLOSE_STATUS"}(n.UiStatus||(n.UiStatus={})),function(e){e[e.DEFAULT_STATUS=0]="DEFAULT_STATUS"}(a=n.UiEffects||(n.UiEffects={}));var u=function(){function e(){}return e.GuessFirst="perfabs/common/pop-guess-first-perfab",e}();n.PopResPath=u;var f=cc._decorator,p=f.ccclass,d=(f.property,function(){function e(){this._stackName=new c.default,this._stackComponent=new c.default,this.shaderFather=null}var t;return t=e,e.getInstance=function(){return this._instance||(this._instance=new t,this._instance._init()),this._instance},e.prototype._init=function(){this.shaderFather=cc.find("Canvas")},e.prototype.InsPerfabByRes=function(e,t,n,r){return o(this,void 0,MPromise,function(){return i(this,function(){return[2,new Promise(function(o,i){n?s.default.getInstance().LoadBundleAssets(r,t,cc.Prefab).then(function(t){t?(e&&l.ResourcesReferenceManager.addRefByAssets(e,t),o(cc.instantiate(t))):i(null)}):s.default.getInstance().LoadResPerfab(t).then(function(t){t?(e&&l.ResourcesReferenceManager.addRefByAssets(e,t),o(cc.instantiate(t))):i(null)})})]})})},e.prototype.ShowPop=function(e,t,n,r){return void 0===n&&(n=10),o(this,void 0,MPromise,function(){var c=this;return i(this,function(){return[2,new MPromise(function(s,l){return o(c,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:return this.openShade(),o=null,0!=this._stackName.sizePrioprity()&&0!=this._stackComponent.sizePrioprity()?[3,5]:r?[4,this.InsPerfabByRes(e,t,r.isBundle,r.BundleName)]:[3,2];case 1:return o=i.sent(),[3,4];case 2:return[4,this.InsPerfabByRes(e,t)];case 3:o=i.sent(),i.label=4;case 4:return o?(o.scale=.5,o.active=!0,this._stackName.pushPrioprity(t,n),this._stackComponent.pushPrioprity(o,n),s(o),[3,10]):(l(null),this.closeShade(),[2]);case 5:return r?[4,this.InsPerfabByRes(e,t,r.isBundle,r.BundleName)]:[3,7];case 6:return o=i.sent(),[3,9];case 7:return[4,this.InsPerfabByRes(e,t)];case 8:o=i.sent(),i.label=9;case 9:if(!o)return l(null),this.closeShade(),[2];o.scale=.5,o.active=!0,this._stackName.pushPrioprity(t,n),this._stackComponent.pushPrioprity(o,n),s(o),i.label=10;case 10:return o?this.openEffect(a.DEFAULT_STATUS,o):this.closeShade(),[2]}})})})]})})},e.prototype.HidePop=function(){this._stackComponent.sizePrioprity()>0&&(this._stackComponent.peekPrioprity().active=!1)},e.prototype.ClosePop=function(e,t){void 0===t&&(t=!0);var n=this._stackComponent.peekPrioprity();if(e?n.destroy():this._stackComponent.peekPrioprity().active=!1,this._stackName.popPrioprity(),this._stackComponent.popPrioprity(),this._stackComponent.isEmptyPrioprity())return null;this._stackName.popPrioprity(),this._stackComponent.popPrioprity().active=!0},e.prototype.GetCurrentPop=function(){return this._stackComponent.peekPrioprity()},e.prototype.openEffect=function(e,t){var n=this;e==a.DEFAULT_STATUS&&cc.tween(t).to(.3,{scale:1.2}).to(.2,{scale:1}).call(function(){n.closeShade()}).start()},e.prototype.closeEffect=function(e,t){var n=this;e==a.DEFAULT_STATUS&&cc.tween(t).to(.15,{scale:1.2}).to(.35,{scale:0}).call(function(){n.closeShade()}).start()},e.prototype.openShade=function(){if(this.shaderFather.getChildByName("uiMask"))this.shaderFather.getChildByName("uiMask").active=!0;else{var e=new cc.Node("uiMask");e.addComponent(cc.BlockInputEvents),e.width=1080,e.height=1920,this.shaderFather.addChild(e,cc.macro.MAX_ZINDEX),this.shaderFather.getChildByName("uiMask").active=!0}},e.prototype.closeShade=function(){this.shaderFather.getChildByName("uiMask"),this.shaderFather.getChildByName("uiMask").active=!1},e._instance=null,t=r([p],e)}());n.default=d,cc._RF.pop()},{"../utils/stack":"stack","./resource-manager":"resource-manager","./resources-reference-manager":"resources-reference-manager"}],"resource-manager":[function(e,t,n){"use strict";cc._RF.push(t,"bf86cJweIhFtITaYFL9aaIM","resource-manager");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(t){i(t)}}function c(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return this._instance||(this._instance=new t),this._instance},e.prototype.LoadResImg=function(e){return o(this,void 0,MPromise,function(){return i(this,function(){return[2,new MPromise(function(t,n){cc.resources.load(e,cc.SpriteFrame,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})]})})},e.prototype.LoadResImgAtals=function(e,t){return void 0===t&&(t=!0),new MPromise(function(t,n){cc.resources.load(e,cc.SpriteAtlas,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})},e.prototype.LoadResText=function(e,t){return void 0===t&&(t=!0),new MPromise(function(t,n){cc.resources.load(e,cc.TextAsset,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})},e.prototype.LoadResAudio=function(e,t){return void 0===t&&(t=!0),new MPromise(function(t,n){cc.resources.load(e,cc.AudioClip,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})},e.prototype.LoadResPerfab=function(e,t){return void 0===t&&(t=!0),new MPromise(function(t,n){cc.resources.load(e,cc.Prefab,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})},e.prototype.LoadResAnimator=function(e,t){return void 0===t&&(t=!0),new MPromise(function(t,n){cc.resources.load(e,cc.AnimationClip,function(){},function(e,r){e&&(console.log("Err: "+e),n(e)),t(r)})})},e.prototype.SyncLoadAssets=function(e,t){return void 0===t&&(t=!0),o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.LoadResImg(e)];case 1:return[2,t.sent()]}})})},e.prototype.LoadBundle=function(e,t){return new MPromise(function(n,r){t?cc.assetManager.loadBundle(e,t,function(e,t){e&&r(e),n(t)}):cc.assetManager.loadBundle(e,function(e,t){e&&r(e),n(t)})})},e.prototype.LoadBundleAssets=function(e,t,n,r){var o=this;return new MPromise(function(i,a,c){var s=function(e,t){c.cancellend||(e?a(e):i(t))};"string"==typeof e?o.LoadBundle(e,r).then(function(e){e.load(t,n,s)}).catch(function(e){a(e)}):e.load(t,n,s)})},e._instance=null,t=r([c],e)}());n.default=s,cc._RF.pop()},{}],"resources-reference-manager":[function(e,t,n){"use strict";cc._RF.push(t,"070ddpNPc5Dw4qEgOY/wtJ6","resources-reference-manager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResourcesReferenceManager=void 0;var r=function(){function e(){}return e.addRefByAssets=function(t,n){var r=e.resourecesRefCountMap.get(t);if(r){for(var o=0;o<r.length;o++)if(r[o]==n)return}else r=new Array,e.resourecesRefCountMap.set(t,r);n.addRef(),r.push(n)},e.decRefByComponent=function(t,n){var r=e.resourecesRefCountMap.get(t);if(r)for(var o=0;o<r.length;o++)if(r[o]==n)return void r[o].decRef()},e.decRefAllByComponent=function(t){var n,r=e.resourecesRefCountMap.get(t);if(r){for(var o=0;o<r.length;o++)r[o].decRef(),cc.log("\u81ea\u5df1\u7684\u8ba1\u6570\uff1a "+(null===(n=r[o])||void 0===n?void 0:n.refCount));e.resourecesRefCountMap.delete(t)}},e.resourecesRefCountMap=new Map,e}();n.ResourcesReferenceManager=r,cc._RF.pop()},{}],"scene-manager":[function(e,t,n){"use strict";cc._RF.push(t,"2a232mcpYNGz4WOqIQoghCi","scene-manager");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./event-manager"),i=e("./resource-manager"),a=cc._decorator,c=a.ccclass,s=(a.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return this._instance||(this._instance=new t),this._instance},e.prototype.preloadScene=function(e,t){cc.director.preloadScene(e,function(e,n){t(Math.round(e/n*100))},function(e){cc.log(e)})},e.prototype.loadScene=function(e){o.default.getInstance().has(o.Event_Name.CHANGE_SCENE_EFFER)?o.default.getInstance().fireEvent(o.Event_Name.CHANGE_SCENE_EFFER,e):cc.director.loadScene(e)},e.prototype.preloadBundleScene=function(e,t){i.default.getInstance().LoadBundle(e).then(function(e){e.preloadScene(t,function(e){e&&cc.log(e)})})},e.prototype.loadBundleScene=function(e,t){i.default.getInstance().LoadBundle(e).then(function(e){e.loadScene(t,function(e,n){e?cc.log(e):o.default.getInstance().has(o.Event_Name.CHANGE_SCENE_EFFER)?o.default.getInstance().fireEvent(o.Event_Name.CHANGE_SCENE_EFFER,t):cc.director.runScene(n)})})},e._instance=null,t=r([c],e)}());n.default=s,cc._RF.pop()},{"./event-manager":"event-manager","./resource-manager":"resource-manager"}],stack:[function(e,t,n){"use strict";cc._RF.push(t,"b0c602RIQpJX60z431lmqkd","stack"),Object.defineProperty(n,"__esModule",{value:!0});var r=10,o=function(){function e(e){void 0===e&&(e=r),this.priorityElements=new Array,this._size=0,this._prioritySize=0}return e.prototype.pushPrioprity=function(e,t){void 0===t&&(t=10);var n={el:e,priority:t};if(0===this.priorityElements.length)this.priorityElements.push(n);else{for(var r=!1,o=0;o<this.priorityElements.length;o++)if(n.priority>this.priorityElements[o].priority){this.priorityElements.splice(o,0,n),r=!0;break}r||this.priorityElements.push(n)}},e.prototype.popPrioprity=function(){return this.priorityElements.pop().el},e.prototype.peekPrioprity=function(){return this.priorityElements[this.priorityElements.length-1].el},e.prototype.sizePrioprity=function(){return this.priorityElements.length},e.prototype.isEmptyPrioprity=function(){return 0===this.priorityElements.length},e.prototype.clearPrioprity=function(){delete this.priorityElements,this.priorityElements=new Array,this._prioritySize=0},e.prototype.hasPriprity=function(e){for(var t=0,n=this.priorityElements.entries();t<n.length;t++){var r=n[t],o=r[0];if(r[1].el===e)return o}return-1},e.prototype.byIndexToFindEl=function(e){return this.priorityElements[e]},e.prototype.printPriority=function(){console.log(this.priorityElements)},e}();n.default=o,cc._RF.pop()},{}]},{},["all-config","cutdown-btn","game-node","grid-node","change-scene-effect","life-cycle","event-manager","event-tools","pool-mananger","pop-manager","resource-manager","resources-reference-manager","scene-manager","m-syns-eg","FigureUtils","bezier","stack","pop-guess-first"]);